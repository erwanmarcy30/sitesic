<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>Division SIC</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <header class="site-header">
        <div class="header-left">
            <div class="logo">Division <span class="logo-strong">SIC</span></div>
            <nav>
                <ul>
                    <li><a href="#" class="nav-link active" data-page="accueil">Accueil</a></li>
                    <li><a href="#" class="nav-link" data-page="documentations">Documentations</a></li>
                    <li><a href="#" class="nav-link" data-page="rth">RTH</a></li>
                    <li><a href="#" class="nav-link" data-page="photos">Photos</a></li>
                    <li>
                        <a href="#" class="nav-link" data-page="communication">
                            Communication
                            <span id="chatNotifDot" class="notif-dot" title="Nouveaux messages"></span>
                        </a>
                    </li>
                    <li><a href="#" class="nav-link" data-page="liens">Liens utiles</a></li>
                </ul>
            </nav>
        </div>

        <div class="header-right">
            <div id="dateTime"></div>
            <button id="themeToggle" class="btn icon-btn" title="Changer le thÃ¨me" aria-label="Changer le thÃ¨me">ðŸŒ“</button>
            <button id="loginBtn" class="btn">Connexion</button>
            <button id="logoutBtn" class="btn secondary" style="display:none;">DÃ©connexion</button>
        </div>
    </header>

    <main>
        <!-- ACCUEIL -->
        <section id="accueil" class="page active">
            <h2>Accueil</h2>


            <div class="grid-2">
                <div class="card">
                    <h3>Message dâ€™accueil</h3>
                    <p id="accueil-text" contenteditable="false" class="editable-area">
                        Bienvenue sur lâ€™espace local de la Division SIC.
                        Connectez-vous pour modifier ce texte et lâ€™adapter Ã  vos besoins.
                    </p>
                </div>
                <div class="card">
                    <h3>Image dâ€™accueil</h3>
                    <div class="accueil-image-wrapper">
                        <img id="accueilImage" src="" alt="Image dâ€™accueil" class="accueil-image" />
                    </div>
                    <div class="btn-row">
                        <button id="uploadBtn" class="btn" style="display:none;">Changer lâ€™image</button>
                        <button id="deleteImgBtn" class="btn danger" style="display:none;">Supprimer</button>
                        <input type="file" id="imageUpload" accept="image/*" style="display:none;">
                    </div>
                </div>
            </div>
        </section>

        <!-- DOCUMENTATIONS -->
        <section id="documentations" class="page">
            <h2>Documentations</h2>

            <div class="card">
                <div class="docs-header">
                    <span>Liste des documentations</span>
                    <button id="addDocBtn" class="btn" style="display:none;">+ Ajouter une documentation</button>
                </div>
                <div id="docs-container" class="grid-cards"></div>
            </div>
        </section>

        <!-- RTH -->
        <section id="rth" class="page">
            <h2>RTH</h2>

            <div class="card" style="overflow-x:auto;">
                <div class="rth-header">
                    <span>Tableau RTH</span>
                    <div class="rth-controls">
                        <select id="rthSortSelect">
                            <option value="desc">Date dÃ©croissante</option>
                            <option value="asc">Date croissante</option>
                        </select>
                        <button id="addRthBtn" class="btn" style="display:none;">Ajouter une ligne</button>
                    </div>
                </div>
                <table class="rth-table">
                    <thead>
                        <tr>
                            <th>Date</th>
                            <th>MatÃ©riel</th>
                            <th>Lieu</th>
                            <th>Observation</th>
                        </tr>
                    </thead>
                    <tbody id="rthTableBody">
                        <!-- Rempli dynamiquement par script.js -->
                    </tbody>
                </table>
            </div>
        </section>

        <!-- PHOTOS -->
        <section id="photos" class="page">
            <h2>Photos</h2>

            <div class="card">
                <div class="photos-header">
                    <button id="addPhotoBtn" class="btn" style="display:none;">Ajouter une photo</button>
                    <input type="file" id="photoUpload" accept="image/*" style="display:none;">
                </div>
                <div id="photosContainer" class="photos-grid"></div>
            </div>
        </section>

        <!-- COMMUNICATION (CHAT) -->
        <section id="communication" class="page">
            <h2>Communication (chat local)</h2>

            <div class="card">
                <div class="chat-header">
                    <span>Salon principal</span>
                    <span class="chat-meta"><span id="onlineCount">1</span> connectÃ©(s)</span>
                </div>
                <div id="chatBox" class="chat-box"></div>
                <div class="chat-input">
                    <input type="text" id="chat-name" placeholder="Votre nom">
                    <input type="text" id="chat-message" placeholder="Votre message">
                    <button id="sendMessageBtn" class="btn">Envoyer</button>
                    <button id="clearChatBtn" class="btn danger" style="display:none;">Vider le chat</button>
                </div>
            </div>
        </section>

        <!-- LIENS UTILES -->
        <section id="liens" class="page">
            <h2>Liens utiles</h2>

            <div class="card">
                <div class="links-header">
                    <span>Liste des liens</span>
                    <button id="addLinkBtn" class="btn" style="display:none;">Ajouter un lien</button>
                </div>
                <div id="links-container" class="grid-cards"></div>
            </div>
        </section>
    </main>

    <!-- MODALE CONNEXION -->
    <div id="loginModal" class="modal">
        <div class="modal-content">
            <span id="closeLoginModal" class="close-modal">&times;</span>
            <h3>Connexion</h3>
            <p class="muted">Mot de passe requis pour activer les fonctions dâ€™Ã©dition.</p>
            <input type="password" id="passwordInput" placeholder="Mot de passe">
            <button id="validateLogin" class="btn">Valider</button>
            <p id="loginError" class="error"></p>
        </div>
    </div>

    <!-- MODALE PHOTO -->
    <div id="photoModal" class="modal photo-modal">
        <span id="closePhotoModal" class="close-modal" aria-label="Fermer la photo">&times;</span>
        <img id="photoModalImg" class="modal-photo-content" alt="Photo">
    </div>

    <!-- TOASTS -->
    <div id="toastContainer"></div>

    <script src="script.js"></script>
</body>
</html>
